<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User Comparison</title>
    <link rel="stylesheet" href="/static/css/compare.css">
</head>
<body>
    <div class="container">
        <h1>Spotify User Comparison</h1>

        <div class="profiles">
            <div class="user-profile">
                <img src="{{ user_info_1.image_url or '/static/default_user.png' }}" alt="User 1 Image">
                <h2>{{ user_info_1.display_name or 'Unnamed' }}</h2>
                <p>@{{ user_info_1.custom_username or 'no_username' }}</p>
                <p>{{ user_info_1.bio or '' }}</p>
            </div>
            <div class="vs">VS</div>
            <div class="user-profile">
                <img src="{{ user_info_2.image_url or '/static/default_user.png' }}" alt="User 2 Image">
                <h2>{{ user_info_2.display_name or 'Unnamed' }}</h2>
                <p>@{{ user_info_2.custom_username or 'no_username' }}</p>
                <p>{{ user_info_2.bio or '' }}</p>
            </div>
        </div>

        {% if has_overlap %}
            <h2>Top Artists</h2>
            <p>Overlap: {{ artist_overlap_percent }}%</p>
            {% if shared_artists %}
            <div class="shared-grid">
                {% for artist in shared_artists %}
                    <a href="{{ artist.spotify_url }}" target="_blank" class="card">
                        <img src="{{ artist.image_url or '/static/default_artist.png' }}" alt="{{ artist.artist_name }}">
                        <p>{{ artist.artist_name }}</p>
                    </a>
                {% endfor %}
            </div>
            {% endif %}

            <h2>Top Tracks</h2>
            <p>Overlap: {{ track_overlap_percent }}%</p>
            {% if shared_tracks %}
            <div class="shared-grid">
                {% for track in shared_tracks %}
                    <a href="{{ track.spotify_url }}" target="_blank" class="card">
                        <img src="{{ track.album_image_url or '/static/default_album.png' }}" alt="{{ track.track_name }}">
                        <p>{{ track.track_name }}</p>
                        <small>{{ track.artist_name }} â€” {{ track.album_name }}</small>
                    </a>
                {% endfor %}
            </div>
            {% endif %}
        {% else %}
            <div class="no-overlap">
                <h2>ðŸŽ§ No Shared Artists or Tracks</h2>
                <p>These users donâ€™t have any artists or tracks in common.</p>
            </div>
        {% endif %}
    </div>
</body>
</html>
